<ion-header>
  <ion-toolbar color="bohemia" class="header-elegante">
    <ion-title class="titulo-bohemia">
      Bohemia Tocados y Accesorios
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="fondo-elegante">
  <div class="ion-padding">
    <h2 class="titulo-pagina">Confirmar Arriendo</h2>

    <ion-list>
      <ion-item lines="none">
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-label>
          <h3>Nombre</h3>
          <p>{{ datos.nombreNovia }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="none">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        <ion-label>
          <h3>Fecha Matrimonio</h3>
          <p>{{ datos.fechaBoda | date:'longDate' }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="none">
        <ion-icon name="rose-outline" slot="start"></ion-icon>
        <ion-label>
          <h3>Tocado</h3>
          <p>{{ datos.tipoTocado }} <span *ngIf="datos.tipoAro">+ {{ datos.tipoAro }}</span></p>
        </ion-label>
      </ion-item>

      <ion-item lines="none">
        <ion-icon name="cash-outline" slot="start"></ion-icon>
        <ion-label>
          <h3>Total</h3>
          <p>${{ datos.total }}</p>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-button expand="block" color="bohemia" (click)="loadLocation()">
      Capturar ubicación de entrega
    </ion-button>

    <p *ngIf="errorUbicacion" class="ion-text-center" style="color:red;">{{ errorUbicacion }}</p>
    <p class="justificacion">
      Tu ubicación nos ayuda a coordinar la entrega del pedido de forma segura y personalizada.
    </p>

    <div *ngIf="coords.lat && coords.lng" class="ion-text-center">
      <div id="map" style="width:100%; height:200px; margin:1em 0;"></div>
    </div>

    <ion-button expand="block" color="bohemia" (click)="takePhoto()">
      Tomar foto del sector de entrega
    </ion-button>
    <p class="justificacion">
      Esta foto proporcionada por el cliente,servirá como referencia para el repartidor del sector.
    </p>

    <div *ngIf="photoBase64" class="ion-text-center">
      <img [src]="photoBase64" style="max-width:90%;max-height:250px;border-radius:12px;margin:0.7em auto;" />
    </div>

    <ion-button
      expand="block"
      color="bohemia"
      [disabled]="isLoading"
      (click)="confirmarPago()">
      {{ isLoading ? 'Procesando...' : 'Confirmar Arriendo' }}
    </ion-button>

    <ion-button expand="block" fill="outline" color="bohemia" (click)="volverAtras()">
      Volver
    </ion-button>
  </div>

  <div class="logo-contenedor">
    <img src="assets/images/logo-bohemia.jpg"
         alt="Bohemia Tocados y Accesorios"
         class="logo-bohemia" />
  </div>
</ion-content>

